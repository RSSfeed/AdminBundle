{% extends 'ITFAdminBundle::admin_base.html.twig' %}

{% set _entity = app.request.get('entity') %}
{% set _Entity = app.request.get('entity')|capitalize %}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets filter="cssrewrite"
        'bundles/itfadmin/inspinia/css/plugins/dataTables/dataTables.bootstrap.css'
        'bundles/itfadmin/inspinia/css/plugins/dataTables/dataTables.responsive.css'
        'bundles/itfadmin/inspinia/css/plugins/dataTables/dataTables.tableTools.min.css'
    %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block main_action_button %}
    <a class="btn btn-primary" href="{{ path('admin_new', { 'entity': _entity, 'bundle': bundle }) }}">
        Create a new {{ _Entity }}
    </a>
{% endblock %}

{% block admin_title %}List {{ _Entity }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                {#<div class="ibox-title">
                    <h5>Basic Data Tables example with responsive plugin</h5>
                </div>#}
                <div class="ibox-content">
                    {{ include('ITFAdminBundle:Admin:datatable.html.twig', {
                        'table_id': table_id,
                        'bundle': bundle,
                        'entity': entity_name,
                        'context': context|default("")
                    }) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}


{% block javascripts %}
    {{ parent() }}

    {% javascripts
        'bundles/itfadmin/inspinia/js/plugins/dataTables/jquery.dataTables.js'
        'bundles/itfadmin/inspinia/js/plugins/dataTables/dataTables.bootstrap.js'
        'bundles/itfadmin/inspinia/js/plugins/dataTables/dataTables.responsive.js'
        'bundles/itfadmin/inspinia/js/plugins/dataTables/dataTables.tableTools.min.js'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}